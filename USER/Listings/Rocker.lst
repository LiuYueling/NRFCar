C51 COMPILER V9.56.0.0   ROCKER                                                            12/31/2018 17:06:30 PAGE 1   


C51 COMPILER V9.56.0.0, COMPILATION OF MODULE ROCKER
OBJECT MODULE PLACED IN ..\OBJ\Rocker.obj
COMPILER INVOKED BY: D:\Program Files (x86)\Keil_v5\C51\BIN\C51.EXE ..\HARDWARE\Rocker\Rocker.c OPTIMIZE(8,SPEED) BROWSE
                    - INCDIR(..\USER;..\SYSTEM;..\SYSTEM\delay;..\SYSTEM\uart;..\SYSTEM\adc;..\SYSTEM\eeprom;..\SYSTEM\timer;..\SYSTEM\pca;..
                    -\SYSTEM\spi;..\HARDWARE\NRF24L01;..\HARDWARE\Rocker;..\APP\NRF_DT) DEFINE(STC_Y5,FOSC=11059200L,UART_BAUD=115200,UART_PA
                    -RITYBIT=ODD_PARITY,TEST_MODE=1,NRF_CAR_SLAVE) DEBUG OBJECTEXTEND PRINT(.\Listings\Rocker.lst) TABS(2) OBJECT(..\OBJ\Rock
                    -er.obj)

line level    source

   1          #include "Rocker.h"
   2          #include "adc.h"
   3          #include "uart.h"
   4          #include "stdio.h"
   5          
   6          #define Average_Cont 3
   7          #define RockerL_X_CH 0
   8          #define RockerL_Y_CH 1
   9          #define RockerR_X_CH 6
  10          #define RockerR_Y_CH 7
  11          
  12          struct _Rocker
  13          {
  14            uint16_t X;
  15            uint16_t Y;
  16          }Rocker_L,Rocker_R;
  17          
  18          extern volatile uint16_t ADC_BUF[4];
  19          
  20          sbit Rocker1_Key = P2^2;
  21          //sbit Rocker2_Key = P2^3;
  22          
  23          void ADC_UART_TEST(void)
  24          {
  25   1      #if (TEST_MODE == 1)
  26   1        xdata uint8_t str[21];
  27   1        
  28   1        sprintf(str, "Rocker_L_X = %u\t", Rocker_L.X);
  29   1        UART_SendString(str);
  30   1        sprintf(str, "Rocker_L_Y = %u\r\n", Rocker_L.Y);
  31   1        UART_SendString(str);
  32   1      //  sprintf(str, "Rocker_R_X = %u\t", Rocker_R.X);
  33   1      //  UART_SendString(str);
  34   1      //  sprintf(str, "Rocker_R_Y = %u\r\n", Rocker_R.Y);
  35   1      //  UART_SendString(str);
  36   1      #endif
  37   1      }
  38          
  39          
  40          void Get_Rocker(void)
  41          { 
  42   1        Rocker_L.X = ADC_BUF[0];
  43   1        Rocker_L.Y = ADC_BUF[1];
  44   1      //  Rocker_R.X = ADC_BUF[2];
  45   1      //  Rocker_R.Y = ADC_BUF[3];
  46   1      #if (TEST_MODE == 1)  
  47   1        ADC_UART_TEST();
  48   1      #endif
  49   1      }
  50          
  51          
C51 COMPILER V9.56.0.0   ROCKER                                                            12/31/2018 17:06:30 PAGE 2   



MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     81    ----
   CONSTANT SIZE    =     35    ----
   XDATA SIZE       =   ----      21
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      8    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
