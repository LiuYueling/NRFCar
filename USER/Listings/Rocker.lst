C51 COMPILER V9.56.0.0   ROCKER                                                            01/02/2019 22:57:16 PAGE 1   


C51 COMPILER V9.56.0.0, COMPILATION OF MODULE ROCKER
OBJECT MODULE PLACED IN ..\OBJ\Rocker.obj
COMPILER INVOKED BY: D:\Program Files (x86)\Keil_v5\C51\BIN\C51.EXE ..\HARDWARE\Rocker\Rocker.c OPTIMIZE(0,SPEED) BROWSE
                    - INCDIR(..\USER;..\Version;..\SYSTEM;..\SYSTEM\delay;..\SYSTEM\uart;..\SYSTEM\timer;..\SYSTEM\spi;..\SYSTEM\adc;..\SYSTE
                    -M\pca;..\HARDWARE\NRF24L01;..\HARDWARE\Rocker;..\APP;..\APP\NRF_DT) DEFINE(STC_Y5,FOSC=11059200L,UART_BAUD=115200,UART_P
                    -ARITYBIT=ODD_PARITY,TEST_MODE=1,NRF_CAR_MASTER,ROCKER_SUM=1) DEBUG OBJECTEXTEND PRINT(.\Listings\Rocker.lst) OBJECT(..\O
                    -BJ\Rocker.obj)

line level    source

   1          #include "Rocker.h"
   2          #include "adc.h"
   3          #include "uart.h"
   4          
   5          #define Average_Cont 3
   6          #define RockerL_X_CH 0
   7          #define RockerL_Y_CH 1
   8          #define RockerR_X_CH 6
   9          #define RockerR_Y_CH 7
  10          
  11          extern volatile uint16_t *ADC_BUF;//AD Buff address
  12          
  13          #if (ROCKER_SUM == 1)
  14          RockerTypeDef ONE;
  15          RockerTypeDef *RackerStruct_P = &ONE;
  16          #endif
  17          
  18          //#if (ROCKER_SUM == 2)
  19          //RockerTypeDef R;
  20          //RockerTypeDef L;
  21          //#endif
  22          
  23          //sbit Rocker1_Key = P2^2;
  24          //sbit Rocker2_Key = P2^3;
  25          
  26          void ADC_UART_TEST(void)
  27          {
  28   1      #if (TEST_MODE == 1)
  29   1      #if (ROCKER_SUM == 1)
  30   1              xdata uint8_t str[17];
  31   1              
  32   1              sprintf(str, "Rocke_X = %x\t", ONE.X);
  33   1              UART_SendString(str);
  34   1              sprintf(str, "Rocker_Y = %x\r\n", ONE.Y);
  35   1              UART_SendString(str);
  36   1      #endif
  37   1              
  38   1      //#if (ROCKER_SUM == 2)
  39   1      //      xdata uint8_t str[19];
  40   1      //      
  41   1      //      sprintf(str, "Rocker_L_X = %u\t", L.X);
  42   1      //      UART_SendString(str);
  43   1      //      sprintf(str, "Rocker_L_Y = %u\r\n", L.Y);
  44   1      //      UART_SendString(str);
  45   1      //      sprintf(str, "Rocker_R_X = %u\t", R.X);
  46   1      //      UART_SendString(str);
  47   1      //      sprintf(str, "Rocker_R_Y = %u\r\n", R.Y);
  48   1      //      UART_SendString(str);
  49   1      //#endif
  50   1              
  51   1      #endif
C51 COMPILER V9.56.0.0   ROCKER                                                            01/02/2019 22:57:16 PAGE 2   

  52   1      }
  53          
  54          
  55          void Get_Rocker(void)
  56          {
  57   1      #if (ROCKER_SUM == 1)//µ¥¸öÒ£¸Ð
  58   1              ONE.X = ADC_BUF[0];
  59   1              ONE.Y = ADC_BUF[1];
  60   1      #endif
  61   1              
  62   1      //#if (ROCKER_SUM == 2)
  63   1      //      L.X = ADC_BUF[0];
  64   1      //      L.Y = ADC_BUF[1];
  65   1      //      R.X = ADC_BUF[2];
  66   1      //      R.Y = ADC_BUF[3];
  67   1      //#endif        
  68   1      }
  69          
  70          
  71          
  72          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    132    ----
   CONSTANT SIZE    =     30    ----
   XDATA SIZE       =     17    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      8    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
