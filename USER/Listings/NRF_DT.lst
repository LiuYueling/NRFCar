C51 COMPILER V9.56.0.0   NRF_DT                                                            01/01/2019 22:52:34 PAGE 1   


C51 COMPILER V9.56.0.0, COMPILATION OF MODULE NRF_DT
OBJECT MODULE PLACED IN ..\OBJ\NRF_DT.obj
COMPILER INVOKED BY: D:\Program Files (x86)\Keil_v5\C51\BIN\C51.EXE ..\APP\NRF_DT\NRF_DT.c OPTIMIZE(8,SPEED) BROWSE INCD
                    -IR(..\USER;..\SYSTEM;..\SYSTEM\delay;..\SYSTEM\uart;..\SYSTEM\adc;..\SYSTEM\eeprom;..\SYSTEM\timer;..\SYSTEM\pca;..\SYST
                    -EM\spi;..\HARDWARE\NRF24L01;..\HARDWARE\Rocker;..\APP\NRF_DT) DEFINE(STC_Y5,FOSC=11059200L,UART_BAUD=115200,UART_PARITYB
                    -IT=ODD_PARITY,TEST_MODE=1,NRF_CAR_SLAVE,ROCKER_SUM=1) DEBUG OBJECTEXTEND PRINT(.\Listings\NRF_DT.lst) OBJECT(..\OBJ\NRF_
                    -DT.obj)

line level    source

   1          #include "NRF_DT.h"
   2          
   3          extern RockerTypeDef *RackerStruct_P;
   4          extern volatile bit Delay_Time0_500ms_Flag;
   5          
   6          sbit LED_RUN = P5^4;
   7          
   8          void NRF_DT(void)
   9          {
  10   1              
  11   1      #ifdef NRF_CAR_MASTER 
                      if(Delay_Time0_500ms_Flag == 1)
                      {/*定时程序*/
                              Get_Rocker();//获得摇杆数据
                              ADC_UART_TEST();//测试遥感数据
                              
                              {/*发送摇杆数据*/       
              #if (ROCKER_SUM == 1)   
                                      if(NRF24L01_TxPacket(RackerStruct_P) == TX_OK)
                                      {
                                              /*发送成功，LED RUN*/
                                              LED_RUN = !LED_RUN;
                                              UART_SendString("NRF24L01 TxPacket Send OK\r\n");
                                      }
                                      else
                                      {
                                              UART_SendString("NRF24L01 TxPacket Send ERR\r\n");
                                      }
              #endif  
              //#if (ROCKER_SUM == 2)
              //                      
              //#endif        
                              }       
                      }
                      
                      {/*非定时程序*/
                              
                      }
              #endif
  40   1              
  41   1      #ifdef NRF_CAR_SLAVE
  42   1              if(Delay_Time0_500ms_Flag == 1)
  43   1              {/*定时程序*/
  44   2                      
  45   2                      
  46   2              }
  47   1              {/*非定时程序*/
  48   2                      if(NRF24L01_RxPacket(&Rocker) == 0)//一旦接收到信息,则显示出来.
*** ERROR C202 IN LINE 48 OF ..\APP\NRF_DT\NRF_DT.c: 'Rocker': undefined identifier
  49   2                      {
  50   3                              LED_RUN = !LED_RUN;
C51 COMPILER V9.56.0.0   NRF_DT                                                            01/01/2019 22:52:34 PAGE 2   

  51   3                              UART_SendString("Get NRF24L01 Rx Packet:\r\n");
  52   3      #if (ROCKER_SUM == 1)
  53   3                              sprintf(str, "Rocker_X = %u\t", Rocker.ONE.X);
*** ERROR C202 IN LINE 53 OF ..\APP\NRF_DT\NRF_DT.c: 'str': undefined identifier
  54   3                              UART_SendString(str);
*** ERROR C202 IN LINE 54 OF ..\APP\NRF_DT\NRF_DT.c: 'str': undefined identifier
  55   3                              sprintf(str, "Rocker_Y = %u\r\n", Rocker.ONE.Y);
*** ERROR C202 IN LINE 55 OF ..\APP\NRF_DT\NRF_DT.c: 'str': undefined identifier
  56   3                              UART_SendString(str);
*** ERROR C202 IN LINE 56 OF ..\APP\NRF_DT\NRF_DT.c: 'str': undefined identifier
  57   3      #endif
  58   3      //#if (ROCKER_SUM == 2)
  59   3      //                      sprintf(str, "Rocker_L_X = %u\t", Rocker.L.X);
  60   3      //                      UART_SendString(str);
  61   3      //                      sprintf(str, "Rocker_L_Y = %u\r\n", Rocker.L.Y);
  62   3      //                      UART_SendString(str);
  63   3      //                      sprintf(str, "Rocker_R_X = %u\t", Rocker.R.X);
  64   3      //                      UART_SendString(str);
  65   3      //                      sprintf(str, "Rocker_R_Y = %u\r\n", Rocker.R.Y);
  66   3      //                      UART_SendString(str);
  67   3      //#endif
  68   3                              tmp_buf[5] = '\r';
*** ERROR C202 IN LINE 68 OF ..\APP\NRF_DT\NRF_DT.c: 'tmp_buf': undefined identifier
  69   3                              tmp_buf[6] = '\n';
*** ERROR C202 IN LINE 69 OF ..\APP\NRF_DT\NRF_DT.c: 'tmp_buf': undefined identifier
  70   3                              tmp_buf[7] = '\0';//加入字符串结束符
*** ERROR C202 IN LINE 70 OF ..\APP\NRF_DT\NRF_DT.c: 'tmp_buf': undefined identifier
  71   3                              UART_SendString(Rocker);    
*** ERROR C202 IN LINE 71 OF ..\APP\NRF_DT\NRF_DT.c: 'Rocker': undefined identifier
  72   3                      }
  73   2              }
  74   1      #endif  //NRF_CAR_SLAVE End
  75   1              
  76   1      }
  77          
  78          
  79          
  80          

C51 COMPILATION COMPLETE.  0 WARNING(S),  9 ERROR(S)
